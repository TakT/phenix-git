<!DOCTYPE html>
<html>
<head>
	<title>krpano.com - Pan_0007</title>
	<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta http-equiv="x-ua-compatible" content="IE=edge" />
	<style>
		@-ms-viewport { width:device-width; }
		@media only screen and (min-device-width:800px) { html { overflow:hidden; } }
		html { height:100%; }
		body { height:100%; overflow:hidden; margin:0; padding:0; font-family:Arial, Helvetica, sans-serif; font-size:16px; color:#FFFFFF; background-color:#000000; }

		#iframe__fs-legend {
			position: absolute;
			text-align: center;
			bottom: 230px;
			bottom: 21.2963vh;
			margin: 0 auto;
			left: 0;
			right: 0;
			z-index: 9999;
			width: 125px;
		}
		
		#iframe__fs-legend .sphere-360 {
			top: 0;
			position: absolute;
		}

		#iframe__fs-legend .yellow-360 {
			transform-origin: 54px 70px 0;
		}
	</style>
</head>
<body>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
	<symbol id="if-view360" viewBox="0 0 51 32">
		<title>view360</title>
		<path fill="#fff" class="path1 fill-color4" d="M50.492 17.988c0.009-0.023 0.014-0.049 0.015-0.077v-0c-0.001-0.028-0.006-0.054-0.015-0.079l0.001-0.025c-0.005-0.012-0.010-0.021-0.015-0.031l-1.119-1.54c-0.043-0.049-0.106-0.080-0.176-0.080-0.129 0-0.234 0.105-0.234 0.234 0 0.045 0.013 0.087 0.035 0.122l0.85 1.169h-2.453c-0.129 0-0.234 0.105-0.234 0.234s0.105 0.234 0.234 0.234h2.439l-0.85 1.17c-0.021 0.035-0.034 0.077-0.034 0.121 0 0.129 0.105 0.234 0.234 0.234 0.070 0 0.133-0.031 0.176-0.080l1.12-1.541c0.005-0.008 0.010-0.018 0.014-0.028z"></path>
		<path fill="#fff" class="path2 fill-color4" d="M0.018 17.825c-0.009 0.023-0.014 0.049-0.015 0.077v0c0.001 0.028 0.006 0.054 0.015 0.079l-0.001 0.025c0.005 0.012 0.010 0.021 0.015 0.031l1.119 1.54c0.043 0.049 0.106 0.080 0.176 0.080 0.129 0 0.234-0.105 0.234-0.234 0-0.045-0.013-0.087-0.035-0.122l-0.835-1.16h2.439c0.129 0 0.234-0.105 0.234-0.234s-0.105-0.234-0.234-0.234h-2.439l0.85-1.167c0.021-0.035 0.034-0.077 0.034-0.121 0-0.129-0.105-0.234-0.234-0.234-0.070 0-0.133 0.031-0.176 0.080l-1.123 1.55c-0.005 0.008-0.010 0.018-0.014 0.028z"></path>
		<path fill="#fff" class="path3 fill-color4" d="M25.256 32c-7.781 0-14.089-6.308-14.089-14.089s6.308-14.089 14.089-14.089c7.781 0 14.089 6.308 14.089 14.089v0c-0.008 7.778-6.311 14.080-14.088 14.089zM25.256 4.119c-7.617 0-13.793 6.175-13.793 13.793s6.175 13.793 13.793 13.793c7.617 0 13.793-6.175 13.793-13.793s-6.175-13.793-13.793-13.793c0 0 0 0 0 0z"></path>
		<path fill="#fff" class="path4 fill-color4" d="M25.179 4.782h0.148v2.222h-0.148v-2.222z"></path>
		<path opacity="0.3" fill="#000" class="path5 fill-color1" d="M34.439 17.911c0 5.073-4.112 9.185-9.185 9.185s-9.185-4.112-9.185-9.185c0-5.073 4.112-9.185 9.185-9.185s9.185 4.112 9.185 9.185z"></path>
		<path fill="#fff" class="path6 fill-color4" d="M26.314 14.607h-1.982c-0.908 0.024-1.637 0.759-1.653 1.667l-0 2.076c0 0.708 0.439 2.213 1.446 2.652 0.358 0.15 0.774 0.237 1.21 0.237s0.852-0.087 1.232-0.245c0.98-0.428 1.41-1.933 1.419-2.659v-2.053c-0.015-0.918-0.754-1.658-1.67-1.674zM27.39 18.329c-0.009 0.673-0.427 1.819-1.079 2.116-0.29 0.119-0.627 0.189-0.979 0.189s-0.689-0.069-0.997-0.195c-0.631-0.29-1.058-1.434-1.064-2.103v-2.074c0.024-0.583 0.492-1.049 1.074-1.070l0.648-0v1.244c0 0.164 0.133 0.296 0.296 0.296s0.296-0.133 0.296-0.296v-1.236h0.72c0.59 0.016 1.065 0.487 1.087 1.073l0 2.055z"></path>
		<path fill="#e7d780" class="path7 fill-color2" d="M25.253 0v1.185c9.237 0 16.726 7.488 16.726 16.726h1.185c-0.012-9.887-8.024-17.899-17.91-17.911z"></path>
	</symbol>
</svg>

<script src="Pan_0007.js"></script>

<div id="pano" style="width:100%;height:100%;">
	<noscript><table style="width:100%;height:100%;"><tr style="vertical-align:middle;"><td><div style="text-align:center;">ERROR:<br/><br/>Javascript not activated<br/><br/></div></td></tr></table></noscript>

	<div id="iframe__fs-legend">
		<!-- <svg class="if if-view360"><use xlink:href="#if-view360"></use></svg> -->
		<img src="../../360_view_icon.svg" alt="" class="sphere-360">
		<img src="../../360_view_icon-yellow.svg" alt="" class="yellow-360" id="iframe__fs-legend-yellow-360">
	</div>

	<script>
		embedpano({
			swf: "Pan_0007.swf",
			xml: "Pan_0007.xml",
			id: 'krpano',
			target: "pano",
			html5: "prefer",
			passQueryParameters: true
		});


		var isDragging = true;
		var lookat_interval = null;
		var pano = document.getElementById('pano');

		pano.addEventListener('mousedown', function () {
			isDragging = false;
			console.log('mousedown');
		});
		pano.addEventListener('mousemove', function () {
			if (!isDragging) {
				getlookat();
			}
			// isDragging = true;
		});
		pano.addEventListener('mouseup', function () {
			var wasDragging = isDragging;
			isDragging = true;
		});

		function getlookat() {
			var krpano = document.getElementById("krpano");

			if (krpano && krpano.get) // it can take some time until krpano is loaded and ready
			{
				krpano.call("screentosphere(mouse.x, mouse.y, mouseath, mouseatv); js( showmouseinfo() );");
			}
		}

		var legendEl = document.getElementById('iframe__fs-legend-yellow-360');
		function showmouseinfo() {
			var krpano = document.getElementById("krpano");

			var mouse_at_x = krpano.get("mouse.x");
			var mouse_at_y = krpano.get("mouse.y");
			var mouse_at_h = krpano.get("mouseath");
			var mouse_at_v = krpano.get("mouseatv");

			/*console.log(mouse_at_h.toFixed(2) + "°");
			console.log(mouse_at_v.toFixed(2) + "°");*/
			// console.log("rotate(" + mouse_at_h.toFixed(2) + "deg)");
			legendEl.style.transform = "rotate(" + mouse_at_h.toFixed(2) + "deg)";
		}
		// update mouse info 30 times per second
		// var lookat_interval = setInterval('getlookat()', 1000.0 / 30.0);
		// var lookat_interval = setInterval('getlookat()', 1000.0);
		// getlookat()


		// disable text selection to avoid cursor flickering
		window.onload = function() {
			document.onselectstart = function() {
				return false;
			} // ie
			document.onmousedown = function() {
				return false;
			} // mozilla
		}
	</script>
</div>

</body>
</html>
